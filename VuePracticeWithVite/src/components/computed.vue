<!-- í…œí”Œë¦¿ ë©”ì†Œë“œ {{}} -->
<!-- 
    ë§¤ìš° ë§ì´ ì“°ì´ê³  ìœ ìš©í•œ ê²ƒë„ ì‚¬ì‹¤ì´ì§€ë§Œ...
    ë„ˆë¬´ ë§ì´ ì‚¬ìš©í•˜ë©´ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆë‹¤.

    ì´ëŸ´ë•Œ ê³„ì‚°ëœ ì†ì„±(computed property)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
-->

<template>
  <div>
    <hr>
    <h3>Computed property</h3>
    <h4>ë‹´ë‹¹ ì„ ìƒë‹˜ : {{ teacher.name }}</h4>
    <!-- <p>ê°•ì˜ê°€ ìˆìŠµë‹ˆê¹Œ ? : {{ teacher.lectures.length > 0 ? 'YesğŸ˜Š' : 'NoğŸ˜”' }}</p> -->
    <!-- ì´ë ‡ê²Œ í•˜ë©´ ë³µì¡í•˜ë‹ˆê¹Œ -->
    <p> ê°•ì˜ê°€ ìˆìŠµë‹ˆê¹Œ (computedì†ì„±) ? : {{ hasLecture }}</p>
    <p> ê°•ì˜ê°€ ìˆìŠµë‹ˆê¹Œ (ë©”ì†Œë“œ) ? : {{ existLecture() }}</p>

    <!-- <p> ê°•ì˜ê°€ ìˆìŠµë‹ˆê¹Œ (computedì†ì„±) ? : {{ hasLecture }}</p>
    <p> ê°•ì˜ê°€ ìˆìŠµë‹ˆê¹Œ (ë©”ì†Œë“œ) ? : {{ existLecture() }}</p>
    <p> ê°•ì˜ê°€ ìˆìŠµë‹ˆê¹Œ (computedì†ì„±) ? : {{ hasLecture }}</p>
    <p> ê°•ì˜ê°€ ìˆìŠµë‹ˆê¹Œ (ë©”ì†Œë“œ) ? : {{ existLecture() }}</p>
    <p> ê°•ì˜ê°€ ìˆìŠµë‹ˆê¹Œ (computedì†ì„±) ? : {{ hasLecture }}</p>
    <p> ê°•ì˜ê°€ ìˆìŠµë‹ˆê¹Œ (ë©”ì†Œë“œ) ? : {{ existLecture() }}</p> -->

    <!-- computedì—ì„œ ì‚¬ìš©ëœ ë°ì´í„°ëŠ” ìºì‹œì— ì ìš©ë˜ë¯€ë¡œ, ì´í›„ì— ì¶œë ¥í•  ë• ìºì‹œì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ì‹ì´ë‹¤. -->
    <!-- ìºì‹œì˜ ë°ì´í„°ê°€ ë³€í•˜ëŠ” ì‹œê¸°ëŠ”? : ë°˜ì‘í˜• ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ ë˜ëŠ” ì‹œê¸° -->

    <!-- ë°˜ë©´ methodëŠ” ì‹¤í–‰í•  ë•Œ ë§ˆë‹¤ ê³„ì† ì¶œë ¥í•˜ê²Œ ë˜ë¯€ë¡œ ì„±ëŠ¥ë©´ì—ì„œ íš¨ìœ¨ì´ ì¢‹ì§€ ì•Šë‹¤. -->
    <!-- ì¦‰ ì„±ëŸ‰ì„ ìƒê°í•˜ë©´ computed ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤. -->

    <button v-on:click="counter++">Counter : {{ counter }}</button>

    <h4>ìˆ˜ê°•ìƒ ì´ë¦„ : {{ fullName }}</h4>
  </div>
</template>

<script>
// computedë„ ë°˜ë“œì‹œ importë¥¼ í•´ì•¼í•œë‹¤(ì–´ì¨Œë“  vueì˜ ì†ì„±ì´ë‹ˆê¹Œ)
import {ref, reactive, computed} from 'vue';

export default {
    setup(){
        const teacher = reactive({
            name : 'Janet',
            lectures : [
                'HTML/CSS',
                'JavaScript',
                'Vue3',
            ],
        });
        
        const hasLecture = computed (() => {
            console.log("computed");
            return teacher.lectures.length > 0 ? 'YesğŸ˜Š' : 'NoğŸ˜”'
        });

        const existLecture = () => {
            console.log("method");
            return teacher.lectures.length > 0 ? 'YesğŸ˜Š' : 'NoğŸ˜”'
        };

        const counter = ref(0);

        // ì»´í“¨í„° ì„±ëŠ¥ ë©´ì—ì„œ ë” ê°€ì„±ë¹„ê°€ ìˆëŠ” ìª½?
        // computed > ë©”ì†Œë“œ

        // computedëŠ” ê¸°ë³¸ì ìœ¼ë¡œ getterì „ìš©(=ì½ê¸° ì „ìš©)ì´ë‹¤.
        // ë”°ë¼ì„œ ìƒˆë¡œìš´ ê°’ì„ í• ë‹¹í•˜ë ¤ í•œë‹¤ë©´ ëŸ°íƒ€ì„ ê²½ê³ ê°€ ë°œìƒí•¨.
        // ìƒˆë¡œìš´ ê³„ì‚°ëœ ì†ì„±ì´ í•„ìš”í•œ ê²½ìš°ì— getterê³¼ setterë¥¼ ëª¨ë‘ ì œê³µí•˜ì—¬ ì†ì„±ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

        const firstName = ref('Lee');
        const lastName = ref('JuYoung');
        //const fullName = computed(()=> firstName.value + ' ' + lastName.value );
        // fullName ì„ ì–¸ë¬¸ì— ë‹¤ì‹œ í•œë²ˆ getter(), setter()ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
        const fullName = computed({
            get(){
                return firstName.value + ' ' + lastName.value;
            },
            set(value){
                console.log('setì˜ value : ', value);
                // console.log(value.split(' ')); // ë°°ì—´[]ë¡œ ë°˜í™˜ë¨
                // const [first, last] = value.split(' '); // ì´ê²Œ êµ¬ì¡°ë¶„í•´ë‹¤
                // console.log('first : ' , first ); // Jang
                // console.log('last : ' , last  ); // InKyung

                // ì´ë ‡ê²Œ ì¤„ì¼ ìˆ˜ ìˆê² ì§€
                [firstName.value, lastName.value] = value.split(' ');
                // firstName.value : Jangì´ ë‹´ê¸°ê³ 
                // lastName.vaue : InKyungì´ ë‹´ê¸´ë‹¤.

            },
        });

        // question : computed(()=>{})ì™€ computed(()=>) ì˜ ì°¨ì´ëŠ”?
        // ë³¼ë¡ë¬¸ë²•{}, ë‹¨ì¼ í‘œí˜„ì‹ ë¬¸ë²•({}ìƒëµ)
        // ë³¼ë¡ë¬¸ë²•{} : ì—¬ëŸ¬ì¤„ì˜ ë¡œì§ì„ ì²˜ë¦¬í•´ì•¼ í•  ë•Œ. returnì„ ë°˜ë“œì‹œ ëª…ì‹œ
        // ë‹¨ì¼ í‘œí˜„ì‹ ë¬¸ë²• : í•˜ë‚˜ì˜ í‘œí˜„ì‹ë§Œ ìˆì„ ë•Œ(= í•¨ìˆ˜ ë³¸ë¬¸ì´ í•œì¤„ë¡œ ëë‚  ë•Œ). {}ê³¼ return í‚¤ì›Œë“œ ìƒëµ ê°€ëŠ¥.

        // refê°ì²´ë‹ˆê¹Œ valueë¥¼ ì‚¬ìš©í•´ì„œ ì¶œë ¥(reactiveëŠ” ã„´ã„´)
        console.log('Console ì¶œë ¥ : ', fullName.value);
        
        // get(), set()ì—†ì´ ê°’ ë°”ê¿”ë³´ì
        // fullName.value = 'Jang Inkyung'; // Write operation failed: computed value is readonly ì¶œë ¥. ë‹¹ì—°íˆ ì—ëŸ¬ë‚¨
        
        // get(), set()ì„ í†µí•´ ê°’ì„ ë°”ê¿€ë ¤ê³  í•œë‹¤. fullNameì— ìƒˆë¡œìš´ ê°’ì„ ëŒ€ì…í•˜ì
        fullName.value = 'Jang Inkyung';
        // Jang Inkyungì´ set()ë‚´ value(ë§¤ê°œë³€ìˆ˜)ì— ë“¤ì–´ê°”ê¸° ë•Œë¬¸ì— fullNameì´ ì—…ë°ì´íŠ¸ ëœ ìƒíƒœì´ë‹¤.
        // ì´ì œ get()ì„ í†µí•´ Jang(firstName.value), Inkyung(lastName.value)ì„ ì¶œë ¥í•´ì•¼ í•œë‹¤
        

    return {
        teacher,
        hasLecture,
        existLecture,
        counter,
        fullName,
    };    
    },

}
</script>

<style>

</style>
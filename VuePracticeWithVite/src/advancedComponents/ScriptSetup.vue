<template>
  <hr />
  <h4>what is script setup tag?</h4>
  <br />
  <button class="btn btn-info" @click="prank"> Guess What?â¤ï¸ </button>
  <br />
  <br />
  <input v-model="letter" type="text" > <br />
  <p id="bitch">{{ letter }}</p>

  <!-- <br />
  <hr />
  <Watch /> -->

  <hr />
  <h4>props, emits practice</h4>
  <h5> Instagram Celebrity girl âœ¨ğŸ’„ğŸ’‹</h5>
  <p> NameğŸ‰ : {{ props.name }}</p>
  <p> ageğŸ§ : {{ props.age }}</p>
  <p> hobbyğŸ©°: {{ props.hobby }}</p>
  <button @click="sendLike" class="btn btn-outline-danger "> Likeâ¤ï¸ </button> :  {{ count }}

  <!-- defineExpose ì‹¤ìŠµ -->
  <br/>
  <hr />
  <h4>defineExpose practice</h4>
  <div>
    <button @click="readMessage" class="btn btn-outline-warning"> Wanna see Message from him? </button>
  </div>


</template>

<script setup>
import { ref } from 'vue'
// import Watch from '../components/watch.vue'
import axios from 'axios'

// console.log("does it work?");
// const message = "<script setup> works!";
const letter = ref('');
const prank = () =>{
  alert("this is prank, you bitch!");
}

// setup(){}ì—ì„œ ì‘ì„±í•  ë•Œ ë‹¨ìˆœíˆ props, emitsë¥¼ ê°ì²´ì„ ì–¸(or ë¬¸ìì—´ ë°°ì—´ ì„ ì–¸)ì„ í•˜ì˜€ì§€ë§Œ
// <script setup>ì—ì„  ë”°ë¡œ ë©”ì†Œë“œê°€ ìˆë‹¤(defineProps(), defineEmits())
const props = defineProps({
  name : String,
  age : Number,
  hobby : String,
  isLike : {
    type: Boolean,
    default : false,
  }
})
const emit = defineEmits(['like']); // emitì˜ ì´ë²¤íŠ¸ëª…ì„ ë¬¸ìì—´ ë°°ì—´ë¡œ ì‘ì„±
const count = ref(0);

const sendLike = () => {
  // ì¢‹ì•„ìš” ë²„íŠ¼ í´ë¦­ ì‹œ ì´ë²¤íŠ¸ ì „ì†¡
  // emit('ì´ë²¤íŠ¸ëª…', ë³´ë‚¼ ì´ë²¤íŠ¸ ë©”ì†Œë“œ)
  emit('like', {isLike : true}); // ì¢‹ì•„ìš” ëˆ„ë¥´ê¸°
  count.value++; //countì¦ê°€
}

// script setupì€ ì›ë˜ ì»´í¬ë„ŒíŠ¸ê°„ í†µì‹ ì´ ë‹«í˜€ ìˆëŠ”ë°,
// ë‚´ë¶€ ë°ì´í„°ë‚˜ ë©”ì†Œë“œë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë…¸ì¶œí• ë ¤ë©´ defineExpose()ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
const readMessage = () =>{
  alert('I love you, Lauraâ£ï¸ğŸ’—');
}

defineExpose({
  readMessage // ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì´ì¹œêµ¬ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤.
}); 

// slotê³¼ attrì€ <template>íƒœê·¸ì—ì„œ $slots $attrsë¡œ ì ‘ê·¼í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
// script íƒœê·¸ ì•ˆì—ì„  ì‚¬ìš©ì„ ìì œí•´ì•¼ í•˜ì§€ë§Œ, ë§Œì•½ ë¬´ì¡°ê±´ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´
// useSlots í˜¹ì€ useAttrsë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

// Top-level await?
// script setupíƒœê·¸ ë‚´ì˜ Top-levelì—ì„œ awaitë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
// ê·¸ë¦¬ê³  ì½”ë“œëŠ” async setup()ê³¼ ê°™ì´ ì»´íŒŒì¼ ëœë‹¤.

// const response = await axios('https://jsonplaceholder.typicode.com/posts');
// console.log('respose : ', response);
</script>

<style scoped>
#bitch{
  margin:2px; 
  background-color: rgb(220, 220, 255);
  color : royalblue;
}

</style>